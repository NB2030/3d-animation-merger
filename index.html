<!DOCTYPE html>
<html lang="en">
	<head>
		<title>locomotive - animation-merger</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

		<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text x=%22.04em%22 y=%22.63em%22 font-size=%22140%22 fill=%22chartreuse%22>⚒︎</text></svg>">
		<link rel="stylesheet" href="styles/main.css">		
	</head>
	<body>
	    <main>
	    	<div class="viewer" id="viewer">
	    		<div class="viewer_ui">
	    		    <div class="transform-toolbar">
	    		        <button class="transform-btn active" data-mode="none" title="Select (Hide Gizmo)">
	    		            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
	    		                <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/>
	    		            </svg>
	    		        </button>
	    		        <button class="transform-btn" data-mode="translate" title="Translate (Move)">
	    		            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
	    		                <polyline points="5 9 2 12 5 15"></polyline>
	    		                <polyline points="9 5 12 2 15 5"></polyline>
	    		                <polyline points="15 19 12 22 9 19"></polyline>
	    		                <polyline points="19 9 22 12 19 15"></polyline>
	    		                <line x1="2" y1="12" x2="22" y2="12"></line>
	    		                <line x1="12" y1="2" x2="12" y2="22"></line>
	    		            </svg>
	    		        </button>
	    		        <button class="transform-btn" data-mode="rotate" title="Rotate">
	    		            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
	    		                <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
	    		            </svg>
	    		        </button>
	    		        <button class="transform-btn" data-mode="scale" title="Scale">
	    		            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
	    		                <path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/>
	    		            </svg>
	    		        </button>
	    		        <div class="toolbar-divider"></div>
	    		        <button class="reset-transform-btn" title="Reset Model Transform">
	    		            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
	    		                <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
	    		                <path d="M3 3v5h5"/>
	    		            </svg>
	    		        </button>
	    		        <button class="reset-camera-btn" title="Reset Camera View">
	    		            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
	    		                <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
	    		                <circle cx="12" cy="13" r="4"/>
	    		            </svg>
	    		        </button>
	    		    </div>
	    		</div>
	    		
	    		<!-- Animation Controls Bar -->
	    		<div class="animation-controls-bar" id="animation-controls-bar">
	    		    <button class="anim-control-btn" id="play-pause-btn" title="Play/Pause">
	    		        <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor">
	    		            <path d="M8 5v14l11-7z"/>
	    		        </svg>
	    		        <svg class="pause-icon" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
	    		            <path d="M6 4h4v16H6zM14 4h4v16h-4z"/>
	    		        </svg>
	    		    </button>
	    		    
	    		    <div class="anim-time-display">
	    		        <span class="anim-current-time" id="anim-current-time">0</span>
	    		        <span class="anim-time-separator">/</span>
	    		        <span class="anim-total-time" id="anim-total-time">0</span>
	    		    </div>
	    		    
	    		    <div class="anim-progress-container" id="anim-progress-container">
	    		        <div class="anim-progress-bar" id="anim-progress-bar"></div>
	    		        <input type="range" class="anim-progress-slider" id="anim-progress-slider" min="0" max="100" value="0" step="0.1" />
	    		    </div>
	    		    
	    		    <div class="anim-speed-control" title="Animation Speed (Preview Only)">
	    		        <input type="number" class="anim-speed-input" id="anim-speed-input" min="0.1" max="5" step="0.1" value="1.0" />
	    		        <span class="anim-speed-unit">x</span>
	    		    </div>
	    		    
	    		    <button class="anim-loop-btn" id="loop-btn" title="Toggle Loop">
	    		        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
	    		            <path d="M17 1l4 4-4 4"/>
	    		            <path d="M3 11V9a4 4 0 0 1 4-4h14"/>
	    		            <path d="M7 23l-4-4 4-4"/>
	    		            <path d="M21 13v2a4 4 0 0 1-4 4H3"/>
	    		        </svg>
	    		    </button>
	    		</div>
	    		
	    		<canvas></canvas>
	    	</div>

	    	<aside class="aside">
		        <div class="aside-header">
		            <!-- Tabs Navigation -->
		            <div class="tabs-nav">
		                <button class="tab-btn active" data-tab="general">
		                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.4em;">
		                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
		                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
		                    </svg>
		                    General
		                </button>
		                <button class="tab-btn" data-tab="textures">
		                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.4em;">
		                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
		                        <circle cx="8.5" cy="8.5" r="1.5"></circle>
		                        <polyline points="21 15 16 10 5 21"></polyline>
		                    </svg>
		                    Textures
		                </button>
		            </div>
		        </div>
		        
		        <!-- General Tab -->
		        <div class="tab-content active" id="tab-general">
		            <div class="files">
		                <label for=""> 
		                    <span>Source FBX</span>
		                    <input id="source" type="file" accept=".fbx" />
		                </label>
		                
		                <label for="">
		                    <span>Animation FBX (multiple allowed)</span>
		                    <input id="source-animations" type="file" accept=".fbx" multiple />
		                </label>
		            </div>
		            
		            <div class="animations-search-container">
		                <input type="text" id="animations-search" placeholder="Search animations..." />
		                <span class="animations-count" id="animations-count">0 animations</span>
		            </div>
		            
		            <div class="animations" id="animations-ui"></div>
		        </div>
		        
		        <!-- Textures Tab -->
		        <div class="tab-content" id="tab-textures" style="display: none;">
		            <div class="texture-type-selector">
		                <span class="texture-type-label">Texture Type:</span>
		                <div class="texture-type-buttons">
		                    <button class="texture-type-btn active" data-type="shaded" data-tooltip="Simple UV texture mapping">Shaded</button>
		                    <button class="texture-type-btn" data-type="pbr" data-tooltip="Physically Based Rendering">PBR</button>
		                </div>
		            </div>
		            
		            <div class="pbr-mode-selector" id="pbr-mode-selector-fixed" style="display: none;">
		                <label class="checkbox-label" data-tooltip="R=AO, G=Roughness, B=Metallic">
		                    <input type="checkbox" id="use-packed-texture" />
		                    <span>Use Packed/Surface Texture (ORM)</span>
		                </label>
		            </div>
		            
		            <div class="texture-content">
		                <div id="shaded-textures" class="texture-section">
		                    <label for="">
		                        <span>UV Texture Map (PNG)</span>
		                        <input id="texture-map" type="file" accept=".png,.jpg,.jpeg" />
		                    </label>
		                </div>
		                
		                <div id="pbr-textures" class="texture-section" style="display: none;">
		                    
		                    <label for="">
		                        <span>Base Color (Albedo)</span>
		                        <input id="texture-basecolor" type="file" accept=".png,.jpg,.jpeg" />
		                    </label>
		                    <label for="">
		                        <span>Normal Map</span>
		                        <input id="texture-normal" type="file" accept=".png,.jpg,.jpeg" />
		                    </label>
		                    
		                    <div id="packed-texture-section" style="display: none;">
		                        <label for="">
		                            <span>Packed Surface (R=AO, G=Roughness, B=Metallic)</span>
		                            <input id="texture-packed" type="file" accept=".png,.jpg,.jpeg" />
		                        </label>
		                    </div>
		                    
		                    <div id="separate-textures-section">
		                        <label for="">
		                            <span>Metallic Map</span>
		                            <input id="texture-metallic" type="file" accept=".png,.jpg,.jpeg" />
		                        </label>
		                        <label for="">
		                            <span>Roughness Map</span>
		                            <input id="texture-roughness" type="file" accept=".png,.jpg,.jpeg" />
		                        </label>
		                        <label for="">
		                            <span>Ambient Occlusion (AO)</span>
		                            <input id="texture-ao" type="file" accept=".png,.jpg,.jpeg" />
		                        </label>
		                    </div>
		                    
		                    <label for="">
		                        <span>Emissive Map (Optional)</span>
		                        <input id="texture-emissive" type="file" accept=".png,.jpg,.jpeg" />
		                    </label>
		                </div>
		            </div>
		        </div>
		        
		        <div class="aside-footer">
		            <div class="export-settings">
		                <label for="filename-input">
		                    <span>Export Filename</span>
		                    <input type="text" id="filename-input" placeholder="model" />
		                </label>
		            </div>
		            
		            <div class="options">
		                <label class="checkbox-label" data-tooltip="Remove X/Z position tracks from animations">
		                    <input type="checkbox" id="in-place-checkbox" />
		                    <span>In Place (Remove root motion)</span>
		                </label>
		                <button class="settings-btn" id="settings-btn" title="Settings" data-tooltip="Customize scene appearance">
		                    <img src="assets/settings-icon.svg" alt="Settings" width="20" height="20" />
		                </button>
		            </div>
		            
		            <div class="actions">
		                <button class="button -primary" id="export-btn">Export GLB</button>
		                <button class="button -danger" onclick="window.location.reload()">Reset</button>
		            </div>
		        </div>
		        
		        <!-- Settings Modal -->
		        <div class="settings-modal" id="settings-modal" style="display: none;">
		            <div class="settings-modal-content">
		                <div class="settings-modal-header">
		                    <h3>Settings</h3>
		                    <button class="settings-close-btn" id="settings-close-btn">×</button>
		                </div>
		                <div class="settings-modal-body">
		                    <label class="settings-item">
		                        <span>Background Color</span>
		                        <div class="color-picker-group">
		                            <input type="color" id="bg-color-picker" value="#15151a" />
		                            <button class="reset-color-btn" id="reset-bg-color" title="Reset to default">↺</button>
		                        </div>
		                    </label>
		                    
		                    <label class="settings-item">
		                        <span>Grid Color</span>
		                        <div class="color-picker-group">
		                            <input type="color" id="grid-color-picker" value="#969fbf" />
		                            <button class="reset-color-btn" id="reset-grid-color" title="Reset to default">↺</button>
		                        </div>
		                    </label>
		                    
		                    <label class="settings-item">
		                        <span>Grid Size</span>
		                        <div class="slider-group">
		                            <input type="range" id="grid-size-slider" min="5" max="50" value="15" step="5" />
		                            <span class="slider-value" id="grid-size-value">15</span>
		                            <button class="reset-color-btn" id="reset-grid-size" title="Reset to default">↺</button>
		                        </div>
		                    </label>
		                    
		                    <label class="settings-item">
		                        <span>Grid Divisions</span>
		                        <div class="slider-group">
		                            <input type="range" id="grid-divisions-slider" min="5" max="50" value="10" step="5" />
		                            <span class="slider-value" id="grid-divisions-value">10</span>
		                            <button class="reset-color-btn" id="reset-grid-divisions" title="Reset to default">↺</button>
		                        </div>
		                    </label>
		                </div>
		            </div>
		        </div>
	        </aside>
	    </main>	

	    <script src="bin/main.js"></script>	
	</body> 
</html>